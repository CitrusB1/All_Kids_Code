import tkinter as tk
import random

rooms = ["Basement", "Attic", "Bathroom", "Kitchen", "Closet"]
monster_room = random.choice(rooms)

def enter_room(room):
    if room == monster_room:
        result.set(f"ðŸ‘¹ You entered the {room}...\nA MONSTER GOT YOU!")
        disable_buttons()
    else:
        result.set(f"You entered the {room}...\nIt's empty. You're still alive!")
        buttons[room].config(state='disabled')
        remaining_rooms.remove(room)
        if len(remaining_rooms) == 1:
            result.set(f"Only one room left: {remaining_rooms[0]}.\nDare to enter?")
            enter_final.config(state='normal')

def final_room():
    room = remaining_rooms[0]
    if room == monster_room:
        result.set(f"ðŸ‘¹ You entered the {room}...\nThe MONSTER WAS WAITING. You lose.")
    else:
        result.set(f"ðŸŽ‰ The {room} was safe!\nYou escaped the haunted house alive!")
    disable_buttons()

def disable_buttons():
    for btn in buttons.values():
        btn.config(state='disabled')
    enter_final.config(state='disabled')

# GUI setup
root = tk.Tk()
root.title("Haunted House Game")
root.geometry("400x350")
root.config(bg="#111")

title = tk.Label(root, text="Haunted House ðŸ‘»", font=("Helvetica", 18), fg="white", bg="#111")
title.pack(pady=10)

result = tk.StringVar()
msg = tk.Label(root, textvariable=result, wraplength=350, fg="#eee", bg="#111", font=("Courier", 12))
msg.pack(pady=10)

button_frame = tk.Frame(root, bg="#111")
button_frame.pack()

buttons = {}
remaining_rooms = rooms.copy()
for room in rooms:
    btn = tk.Button(button_frame, text=room, width=10, command=lambda r=room: enter_room(r))
    btn.pack(side="left", padx=5, pady=5)
    buttons[room] = btn

enter_final = tk.Button(root, text="Enter Final Room", state="disabled", command=final_room)
enter_final.pack(pady=15)

root.mainloop()
